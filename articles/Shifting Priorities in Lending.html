<!DOCTYPE html>
<html lang="en">
	<head>
	    <meta charset="UTF-8">
	    <meta name="viewport" content="width=device-width, initial-scale=1.0">
	    <title>
	    	Shifting Priorities in Lending : Zimbabwe.  Deep Dive Data 
	    </title>
	    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
	    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    	<script src="https://d3js.org/d3.v7.min.js"></script>
    	<!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-GVRPV64YPR"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-GVRPV64YPR');
  </script>
    	<style>
        	:root {
	            --primary-color: #e43f5a;
	            --secondary-color: #ff8c7a;
	            --bg-dark: #1a1a2e;
	            --bg-light: #1b1b2f;
	            --bg-contrast: #162447;
	            --bg-lighter: #1e2a4a;
	            --text-color: #e0e0e0;
	            --text-muted: #bfbfbf;
        	}
        	body {
            	background-color: var(--bg-dark);
            	color: var(--text-color);
            	font-family: 'Arial', sans-serif;
        	}
	        .navbar {
	            background-color: var(--bg-light);
	        }
	        .navbar-brand, .nav-link {
	            color: var(--text-muted) !important;
	        }
	        .nav-link:hover {
	            color: var(--primary-color) !important;
	        }
	        .hero-section {
	            background-color: var(--bg-light);
	            padding: 80px 0;
	            text-align: center;
	        }
	        .hero-section h1 {
	            color: var(--primary-color);
	            font-size: 2.5rem;
	            margin-bottom: 1rem;
	        }
	        .btn-primary {
	            background-color: var(--primary-color);
	            border-color: var(--primary-color);
	        }
	        .btn-primary:hover {
	            background-color: var(--secondary-color);
	            border-color: var(--secondary-color);
	        }
	        .chart-section {
	            background-color: var(--bg-contrast);
	            padding: 60px 0;
	        }
	        .explore-section {
	            background-color: var(--bg-light);
	            padding: 60px 0;
	        }
	        .chart-card {
	            background-color: var(--bg-dark);
	            border: none;
	            border-radius: 10px;
	            transition: transform 0.3s ease, box-shadow 0.3s ease;
	            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
	        }
	        .chart-card:hover {
	            transform: translateY(-5px);
	            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
	        }
	        .chart-image-container {
	            background-color: var(--bg-lighter);
	            border-radius: 10px;
	            padding: 20px;
	            margin-bottom: 20px;
	            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
	        }
	        .chart-description {
	            color: var(--text-muted);
	            font-size: 1rem;
	            line-height: 1.6;
        	}
        	footer {
            	background-color: var(--bg-light);
            	color: var(--text-muted);
            	padding: 20px 0;
        	}
        	footer a {
            	color: var(--text-color);
            	text-decoration: none;
        	}
        	footer a:hover {
            	color: var(--primary-color);
        	}
        	.section-title {
            	color: var(--primary-color);
            	margin-bottom: 2rem;
        	}
	        .card-container {
	            background-color: var(--bg-lighter);
	            border-radius: 15px;
	            padding: 20px;
	            margin-bottom: 20px;
	        }
	        /* Bump Chart Styles */
	        .line {
	            stroke-linecap: round;
	            stroke-linejoin: round;
	            opacity: 0.8;
	        }
	        .dot {
	            stroke-width: 2;
	            cursor: pointer;
	            transition: r 0.3s, fill 0.3s;
	        }
	        .dot:hover {
	            fill: var(--secondary-color);
	        }
	        .tooltip {
	            position: absolute;
	            text-align: center;
	            padding: 8px;
	            font-size: 14px;
	            background: rgba(50, 50, 50, 0.85);
	            color: white;
	            border-radius: 5px;
	            pointer-events: none;
	            opacity: 0;
	            box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.3);
	            transition: opacity 0.3s;
	        }
	        .axis path,
	        .axis line {
	            fill: none;
	            stroke: var(--text-muted);
	            shape-rendering: crispEdges;
	        }
	        #bump-chart svg {
	            width: 100%;
	            height: auto;
	        }
	        #bump-chart {
	            display: flex;
	            justify-content: center;
	            margin: 20px 0;
	        }
	        .blog .blog-details {
	            box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1);
	            padding: 30px;
	            border-radius: 10px;
	        }
	        .article {
	            background-color: var(--bg-lighter);
	            padding: 30px;
	            border-radius: 10px;
	            margin-bottom: 30px;
	        }
	        .article h2 {
	            color: var(--primary-color);
	            margin-bottom: 20px;
	        }
	        .article .meta-top {
	            margin-bottom: 20px;
	        }
	        .article .meta-top ul {
	            padding: 0;
	            list-style: none;
	        }
	        .article .meta-top li {
	            display: inline;
	            margin-right: 15px;
	        }
	        .article .content {
	            color: var(--text-color);
	        }
	        .article .post-img {
	            margin-bottom: 20px;
	        }
	        .article .post-img img {
	            border-radius: 10px;
	        }
	        /* New Breadcrumb Styles */
	        .breadcrumbs {
	            padding: 15px 0;
	            background-color: var(--bg-lighter);
	            margin-bottom: 20px;
	        }
	        .breadcrumbs nav ol {
	            display: flex;
	            flex-wrap: wrap;
	            list-style: none;
	            margin: 0;
	            padding: 0;
	            font-size: 16px;
	            font-weight: 600;
	            color: var(--color-default);
	        }
	        .breadcrumbs nav ol li+li::before {
	            display: inline-block;
	            padding-right: 10px;
	            padding-left: 10px;
	            color: var(--color-secondary);
	            content: "/";
	        }
	        .breadcrumbs nav ol li a {
	            color: var(--text-color);
	            text-decoration: none;
	            transition: color 0.3s ease;
	        }
	        .breadcrumbs nav ol li a:hover {
	            color: var(--primary-color);
	        }
    	</style>
	</head>
	<body>
    	<nav class="navbar navbar-expand-lg">
        	<div class="container">
	            <a href="../index.html" class="navbar-brand d-flex align-items-center">
	                <img src="../img/1.png" alt="Logo" width="40" height="40" class="rounded-circle me-2">
	                Deep Dive Data
	            </a>
            	<button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                	<span class="navbar-toggler-icon"></span>
            	</button>
	            <div class="collapse navbar-collapse" id="navbarNav">
	                <ul class="navbar-nav ms-auto">
	                    <!--<li class="nav-item"><a class="nav-link" href="#">Insights</a></li>-->
	                    <li class="nav-item"><a class="nav-link" href="blog.html">Explore Data</a></li>
	                    <!--<li class="nav-item"><a class="nav-link" href="#">Insights</a></li>-->
	                    <li class="nav-item"><a class="nav-link" href="../about.html">About</a></li>
	                </ul>
	            </div>
        	</div>
    	</nav>
    
    	<!-- New Breadcrumbs Section -->
	    <div class="breadcrumbs">
	        <div class="container">
	            <nav>
	                <ol>
	                    <li><a href="../index.html">Home</a></li>
	                    <li><a href="../blog.html">Explore Data</a></li>
	                    <li>Shifting Priorities in Lending</li>
	                </ol>
	            </nav>
	        </div>
	    </div>

 		<section class="chart-section">
        	<div class="container-fluid">
            	<h2 class="text-center section-title">Zimbabwe:Shifting Priorities in Lending</h2>
            	<h3 class="text-center mb-4">How Each Bank Allocates Funds Across Categories</h3>
            
            	<div class="d-flex justify-content-center mb-4">
    				<div class="btn-group" role="group" aria-label="Dataset selection">
        				<input type="radio" class="btn-check" name="dataset" id="dataset1" value="dataset1" checked>
        				<label class="btn btn-outline-primary" for="dataset1">National View</label>

        				<input type="radio" class="btn-check" name="dataset" id="dataset2" value="dataset2">
        				<label class="btn btn-outline-primary" for="dataset2">Steward Bank</label>

        				<input type="radio" class="btn-check" name="dataset" id="dataset3" value="dataset3">
        				<label class="btn btn-outline-primary" for="dataset3">Agribank</label>

        				<input type="radio" class="btn-check" name="dataset" id="dataset4" value="dataset4">
        				<label class="btn btn-outline-primary" for="dataset4">CBZ</label>
    				</div>
				</div>

            	<div id="bump-chart" class="chart-image-container" style="width: 100%; max-width: 1200px; margin: 0 auto;"></div>
            	<div id="tooltip" class="tooltip"></div>

             	<div class="d-flex justify-content-center mb-4"></div>
         
	            <!--<h2 class="text-center section-title">
	                <p class="chart-description text-center">
	                   Want to delve deeper into the specific loan categories and their impact on each bank's performance?
	                </p>
	            </h2>
	            <h2 class="text-center section-title">
	                <button class="btn btn-primary btn-lg">Learn More</button>
	            </h2>-->
        	</div>
    	</section>
  		
  		<section id="blog" class="blog py-5">
        	<div class="container">
            	<article class="article">
                	<div class="meta-top mb-4">
	                    <ul>
	                        <li class="d-flex align-items-center"><i class="fas fa-user me-2"></i>Harvey Binamu</li>
	                        <li class="d-flex align-items-center"><i class="fas fa-calendar me-2"></i><time datetime="2023-12-23">October, 2024</time></li>
	                    </ul>
                	</div>

                	<div class="content">
                    	<p>
                    		This analysis of Zimbabwe’s bank lending data across sectors from 2019 to 2024 highlights strategic shifts in lending patterns likely influenced by Zimbabwe’s unique economic landscape, which has been shaped by inflation, currency instability, and changing market demands.
                		</p>

                    	<h5 class="mt-4">All Banks</h5>
                    	<p>
                    		In Dataset 1, representing all banks in Zimbabwe, there is a strong and consistent emphasis on agriculture, reflecting the sector's critical role in Zimbabwe's economy, where agriculture accounts for a significant portion of GDP and employment. However, the steady decline in agricultural lending from 31.69% in 2019 to 24.47% in 2022 could suggest growing challenges in agricultural finance, possibly due to drought, fluctuating commodity prices, or policy shifts encouraging diversification. Loans to individuals have fluctuated similarly, with a peak of 23.22% in 2021, indicating possible consumer demand for credit amidst inflationary pressures, before dropping to 18.6% in 2022 as inflation and economic uncertainty may have impacted lending to households. Notably, lending to financial organizations saw a steep decrease from 13.35% in 2020 to 5.41% in 2022, suggesting reduced credit appetite in the financial sector amid economic challenges.
                    	</p>
                    
                    	<!-- Add more sections here -->

                    	<h5 class="mt-4">Steward Bank</h5>
                    	<p>
                        	Steward Bank’s recent shifts in lending strategy from 2020 to 2024 reflect an adaptive approach to Zimbabwe's evolving economic landscape, with noticeable changes influenced by developments within its parent company, Cassava Technologies. Initially, the bank prioritized individual loans, peaking at 65% of its portfolio in 2022, likely responding to high consumer demand for personal credit amid inflationary pressures. However, by 2024, Steward Bank sharply reduced individual lending to 13% and redirected 65% of its portfolio to manufacturing. This pivot aligns with Zimbabwe’s national goals to boost local manufacturing and decrease import dependency, positioning Steward Bank as a supporter of industrial growth and economic resilience.
                    	</p>
                    	<br>
                    	<p>
                        	The loss of EcoCash, Zimbabwe's leading mobile money service, as a "stablemate" under Cassava Technologies following corporate restructuring, may also have influenced Steward Bank's strategic redirection. Without the competitive advantage of close integration with EcoCash, Steward Bank likely faced challenges in reaching individual consumers as effectively as before. This may explain its pivot toward manufacturing and corporate lending, allowing Steward Bank to diversify its portfolio and align with Cassava’s broader emphasis on technology and industrial sectors. This reorientation not only meets current economic demands but also strategically positions Steward Bank to support Zimbabwe’s long-term industrial development goals.
                        </p>

                        <h5 class="mt-4">AgriBank</h5>
                        <br>
                    	<p>
                        The Agribank loan allocation trends from 2018 to 2023 reveal a strong focus on agriculture, with funding for this sector rising from 35% in 2018 to a peak of 57.8% in 2020, driven by drought and food security concerns. Loans to individuals began high at 51% in 2018 but decreased to 32.38% by 2023 as attention returned to agriculture. The manufacturing sector maintained a relatively stable share, while sectors like communication, construction, and transport received minimal allocations. Notably, services, mining, and distribution saw increased funding in recent years, with 8.88%, 7.36%, and 8.36% respectively in 2022, potentially signaling Agribank’s growing emphasis on these areas. Overall, the data highlights Agribank's adaptive lending strategies, balancing a strong commitment to agriculture with gradual diversification into other key sectors.</p>


                        <h5 class="mt-4">CBZ</h5>
                        <br>
                    	<p>
                        CBZ's lending portfolio from 2018 to 2023 reveals a dynamic shift in sectoral focus aligned with Zimbabwe's evolving economic needs. Initially, loans to individuals were prominent at 28.7% in 2018 but saw a marked decline in 2019 to just 5.58%, reflecting CBZ's pivot toward rural financing, especially for agriculture, which surged to 68.81% that year. This shift likely supported the government’s efforts to revitalize agriculture and rural economies amid ongoing food security challenges. The mining sector also gained prominence, rising to 10.08% in 2020 and again in 2022, aligning with Zimbabwe's push to boost mining exports and investment in mineral resources. Manufacturing and distribution maintained stable shares, underscoring their steady role in the economy, while sectors like construction, transport, and financial organizations received relatively smaller allocations. Communication funding, initially minimal, increased to 4.24% by 2023, reflecting the growing importance of digital connectivity. The services sector saw fluctuations, peaking in 2021 at 8.76%, likely due to rising demand for service-oriented financing. Overall, CBZ’s lending strategy shows adaptability, with increased focus on agriculture, mining, and manufacturing, supporting the country’s key economic drivers and responding to sectoral opportunities.
                        </p>

                        <h9 class="mt-4">Source : Annual reports and Zimstat</h9>
                	</div>
            	</article>
        	</div>
    	</section>


     	<section class="explore-section">
    		<div class="container">
    			<h2 class="text-center section-title">Explore More Charts</h2>
    			<div class="card-container">
        			<div class="row row-cols-1 row-cols-md-2 g-4">
            			<div class="col">
                			<div class="card chart-card h-100">
                    			<div class="card-body d-flex flex-column">
                        			<h5 class="card-title" style="color: #e0e0e0;">Exploring Zimbabwe's Religious Mosaic</h5>
                    				<div class="post-img">
                        				<img src="../img/Zimbabwe Religious 2.png" alt="Zimbabwe Religious Mosaic" class="img-fluid">
                    				</div>
                        			<p class="card-text flex-grow-1" style="color: #e0e0e0;">
                            			A Province-by-Province Exploration of Religious Diversity.
                        			</p>
                        			<a href="../articles/Zimbabwe-Religious-Mosaic.html" class="btn btn-primary mt-3">
                        				Explore Chart
                        			</a>
                    			</div>
                			</div>
            			</div>
            			<div class="col">
                			<div class="card chart-card h-100">
                    			<div class="card-body d-flex flex-column">
                        			<h5 class="card-title" style="color: #e0e0e0;">Interactive $130 Budget Planner</h5>
		                            <div class="post-img">
		                                <img src="../img/Budget Planner.png" alt="Budget Planner" class="img-fluid">
		                            </div>
                        			<p class="card-text flex-grow-1" style="color: #e0e0e0;">
                            			Budgeting on a shoestring: A tool for Zimbabweans perspective.
                        			</p>
                        			<a href="../articles/$130 Budget Planner.html" class="btn btn-primary mt-3">Explore Chart</a>
                    			</div>
                			</div>
            			</div>
        			</div>
    			</div>
    		</div>
		</section>

        <footer class="text-center mt-5">
        	<div class="container">
            	<p>&copy; 2024 Deep Dive Data </p>
            	<!--<p>&copy; 2024 Deep Dive Data | <a href="#">Privacy Policy</a> | <a href="#">Terms of Service</a></p>-->
	            <div class="mt-3">
	                <a href="https://x.com/DeepDiveDataZW" class="me-3"><i class="fab fa-twitter"></i></a>
	                <a href="https://www.linkedin.com/company/deepdivedatazw/" class="me-3"><i class="fab fa-linkedin"></i></a>
	                <!--<a href="#"><i class="fab fa-github"></i></a>-->
	            </div>
        	</div>
    	</footer>

    	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    	<script>
        	const dataset1 = [
            	{ year: 2019, Agriculture: 31.69, Construction: 1.37, Communication: 0.26, Distribution: 10.84, Financial_Investiments: 0.47, Financial_Organizations: 14.62, Manufacturing: 9.99, Mining: 7.99, Services: 8.00, Transport: 0.82, Individuals: 13.88, Conglomerates: 0.07 },
            	{ year: 2020, Agriculture: 26.94, Construction: 0.79, Communication: 0.38, Distribution: 14.19, Financial_Investiments: 0.04, Financial_Organizations: 13.35, Manufacturing: 11.60, Mining: 10.73, Services: 6.71, Transport: 2.20, Individuals: 13.01, Conglomerates: 0.07 },
            	{ year: 2021, Agriculture: 29.14, Construction: 0.96, Communication: 0.30, Distribution: 13.19, Financial_Investiments: 0.31, Financial_Organizations: 5.91, Manufacturing: 11.88, Mining: 5.68, Services: 7.79, Transport: 1.62, Individuals: 23.22, Conglomerates: 0.02 },
            	{ year: 2022, Agriculture: 24.47, Construction: 1.38, Communication: 0.61, Distribution: 13.50, Financial_Investiments: 0.16, Financial_Organizations: 5.41, Manufacturing: 12.38, Mining: 11.28, Services: 10.76, Transport: 1.42, Individuals: 18.60, Conglomerates: 0.03 }
        	];

        	const dataset2 = [
            	{ year: 2020, Individuals: 42, Agriculture: 20, Manufacturing: 17, Distribution: 12, Services: 9, Mining: 1 },
            	{ year: 2021, Individuals: 46, Agriculture: 18, Manufacturing: 14, Distribution: 7, Services: 15, Mining: 0 },
            	{ year: 2022, Individuals: 65, Agriculture: 8, Manufacturing: 9, Distribution: 8, Services: 9, Mining: 1 },
            	{ year: 2023, Individuals: 22, Agriculture: 22, Manufacturing: 21, Distribution: 5, Services: 30, Mining: 0 },
            	{ year: 2024, Individuals: 13, Agriculture: 9, Manufacturing: 65, Distribution: 3, Services: 7, Mining: 3 }
        	];

        	const dataset3 = [
    			{ year: 2018, Individuals: 51, Agriculture: 35, Manufacturing: 7, Communication: 0, Construction: 1, Transport: 0, Services: 3, Mining: 2, Distribution: 1 },
    			{ year: 2019, Individuals: 45, Agriculture: 37, Manufacturing: 4, Communication: 0, Construction: 0, Transport: 0, Services: 8, Mining: 1, Distribution: 5 },
    			{ year: 2020, Individuals: 34.1, Agriculture: 57.8, Manufacturing: 5.3, Communication: 0, Construction: 0.2, Transport: 0, Services: 0.9, Mining: 0.1, Distribution: 1.6 },
    			{ year: 2021, Individuals: 38.36, Agriculture: 51.39, Manufacturing: 5.33, Communication: 0.03, Construction: 0.14, Transport: 0.13, Services: 1.10, Mining: 2.43, Distribution: 1.08 },
    			{ year: 2022, Individuals: 41.16, Agriculture: 27.03, Manufacturing: 5.29, Communication: 0.00, Construction: 0.17, Transport: 1.75, Services: 8.88, Mining: 7.36, Distribution: 8.36 },
    			{ year: 2023, Individuals: 32.38, Agriculture: 55.33, Manufacturing: 3.73, Communication: 0.00, Construction: 0.00, Transport: 1.01, Services: 1.71, Mining: 5.34, Distribution: 0.50 }
			];

			const dataset4 = [
    			{ year: 2018, Individuals: 28.70, Agriculture: 24.26, Mining: 3.25, Manufacturing: 8.01, Distribution: 16.48, Construction: 1.55, Transport: 1.23, Communication: 0.26, Services: 14.01, Financial_Organizations: 2.25 },
    			{ year: 2019, Individuals: 5.58, Agriculture: 68.81, Mining: 3.75, Manufacturing: 4.04, Distribution: 9.35, Construction: 0.25, Transport: 0.37, Communication: 0.03, Services: 7.28, Financial_Organizations: 0.53 },
    			{ year: 2020, Individuals: 6.91, Agriculture: 55.30, Mining: 10.08, Manufacturing: 2.67, Distribution: 19.67, Construction: 0.18, Transport: 0.24, Communication: 0.01, Services: 4.04, Financial_Organizations: 0.90 },
    			{ year: 2021, Individuals: 10.02, Agriculture: 50.56, Mining: 7.37, Manufacturing: 4.34, Distribution: 17.92, Construction: 0.19, Transport: 0.14, Communication: 0.00, Services: 8.76, Financial_Organizations: 0.70 },
    			{ year: 2022, Individuals: 10.02, Agriculture: 35.74, Mining: 10.04, Manufacturing: 12.89, Distribution: 17.17, Construction: 1.28, Transport: 0.26, Communication: 2.63, Services: 9.81, Financial_Organizations: 0.14 },
    			{ year: 2023, Individuals: 26.20, Agriculture: 12.17, Mining: 19.06, Manufacturing: 16.39, Distribution: 16.07, Construction: 1.19, Transport: 0.35, Communication: 4.24, Services: 4.07, Financial_Organizations: 0.26 }
			];

        	let currentData = dataset1;

        	const margin = { top: 40, right: 40, bottom: 50, left: 125 },
            	width  = 900 - margin.left - margin.right,
            	height = 500 - margin.top - margin.bottom;

        	const svg = d3.select("#bump-chart")
            	.append("svg")
            	.attr("viewBox", `0 0 ${width + margin.left + margin.right} ${height + margin.top + margin.bottom}`)
            	.append("g")
            	.attr("transform", `translate(${margin.left},${margin.top})`);

        	function updateChartSize() {
            	const chartContainer = document.getElementById('bump-chart');
            	const containerWidth = chartContainer.clientWidth;
            	const containerHeight = containerWidth * (height + margin.top + margin.bottom) / (width + margin.left + margin.right);

            	d3.select("#bump-chart svg")
                .attr("width", containerWidth)
                .attr("height", containerHeight);

            	renderChart(currentData);
			}

        	window.addEventListener('resize', updateChartSize);
        	updateChartSize(); // Initial call to set the size


        	function renderChart(data) {
            	svg.selectAll("*").remove();

            	const chartContainer = document.getElementById('bump-chart');
            	const containerWidth = chartContainer.clientWidth;
            	const containerHeight = containerWidth * (height + margin.top + margin.bottom) / (width + margin.left + margin.right);

            	const chartWidth = width;
            	const chartHeight = height;

            	const rankData = data.map(yearData => {
                	const sectors = Object.keys(yearData).filter(key => key !== "year");
                	sectors.sort((a, b) => yearData[b] - yearData[a]);
                	return { year: yearData.year, ranks: sectors };
            	});

            	const x = d3.scalePoint()
                .domain(data.map(d => d.year))
                .range([0, chartWidth]);

            	const y = d3.scaleLinear()
                .domain([1, rankData[0].ranks.length])
                .range([0, chartHeight]);

            	const color = {

	                "Agriculture": "#42bddf",
	                "Construction": "#261214",
	                "Communication": "#1B76FF",
	                "Distribution": "#4a4948",
	                "Financial_Investiments": "#FFBE00",
	                "Financial_Organizations": "#25064C",
	                "Manufacturing": "#ca1056",
	                "Mining": "#2a455b",
	                "Services": "#2e6368",
	                "Transport": "#c0b156",
	                "Individuals": "#f4b49b",
	                "Conglomerates": "#cfb4bd"
            	};

            	const tooltip = d3.select("#tooltip");
            	const sectors = Object.keys(data[0]).filter(d => d !== "year");

            	const radiusScale = d3.scaleLinear()
                .domain([0, 100])
                .range([13.5, 40]);

            	sectors.forEach(sector => {
                	const line = d3.line()
                    	.x(d => x(d.year))
                    	.y(d => y(rankData.find(r => r.year === d.year).ranks.indexOf(sector) + 1));

                	svg.append("path")
	                    .datum(data)
	                    .attr("class", `line line-${sector}`)
	                    .attr("d", line)
	                    .attr("stroke", color[sector])
	                    .attr("stroke-width", 7)
	                    .attr("fill", "none");

                	svg.selectAll(`.dot-${sector}`)
                    	.data(data)
                    	.enter().append("circle")
                    	.attr("class", "dot")
                    	.attr("cx", d => x(d.year))
                    	.attr("cy", d => y(rankData.find(r => r.year === d.year).ranks.indexOf(sector) + 1))
                    	.attr("r", d => radiusScale(d[sector]))
                    	.attr("fill", color[sector])
                    	.attr("stroke", color[sector])
                    	.attr("stroke-width", 2)
                    	.on("mouseover", (event, d) => {
                        	const rank = rankData.find(r => r.year === d.year).ranks.indexOf(sector) + 1;
                        	svg.selectAll(".line").style("opacity", 0.1);
                        	svg.select(`.line-${sector}`).style("opacity", 1);
                        	tooltip.transition().duration(200).style("opacity", 1);
                        	tooltip.html(`
                            	<strong>${sector}</strong><br>
                            	Year: ${d.year}<br>
                            	Rank: ${rank}<br>
                            	Value: ${d[sector]}
                        	`)
                            .style("left", (event.pageX + 10) + "px")
                            .style("top", (event.pageY - 28) + "px")
                            .style("background-color", color[sector]);
                    })
                    .on("mouseout", () => {
                        tooltip.transition().duration(500).style("opacity", 0);
                        svg.selectAll(".line").style("opacity", 1);
                    });

                	svg.selectAll(`.label-${sector}`)
	                    .data(data)
	                    .enter().append("text")
	                    .attr("class", "label")
	                    .attr("x", d => x(d.year))
	                    .attr("y", d => y(rankData.find(r => r.year === d.year).ranks.indexOf(sector) + 1))
	                    .attr("dy", ".35em")
	                    .attr("text-anchor", "middle")
	                    .attr("fill", "#fff")
	                    .style("font-size", "12px")
	                    .text(d => `${d[sector]}%`);
            	});

            	svg.append("g")
	                .attr("transform", `translate(0,${chartHeight+19})`)
	                .call(d3.axisBottom(x).tickFormat(d3.format("d")))
	                .selectAll("text")
	                .style("font-size", "15px");
            	svg.append("text")
	                .attr("class", "x-axis-label")
	                .attr("x", chartWidth / 2)
	                .attr("y", chartHeight + margin.bottom )
	                .style("text-anchor", "middle")
	                .style("font-size", "14px")
	                .style("fill", "white")  // Set text color to white
	                .text("Year of Annual Report");

            	svg.append("g")
                	.attr("transform", `translate(-22, 0)`)
                	.call(d3.axisLeft(y).ticks(rankData[0].ranks.length).tickFormat(d => d))
                	.selectAll("text")
                	.style("font-size", "13px")
                	.style("fill", "white");  // Set text color to white ranking text

            	svg.append("text")
	                .attr("class", "y-axis-label")
	                .attr("x", -chartHeight / 2)
	                .attr("y", -margin.left + 16)
	                .attr("transform", "rotate(-90)")
	                .style("text-anchor", "middle")
	                .style("font-size", "22px")
	                .style("fill", "white")  // Set text color to white rank word
	                .text("Rank");

            	const initialYear = rankData[0];
            	svg.selectAll(".rank-label")
	                .data(initialYear.ranks)
	                .enter().append("text")
	                .attr("class", "rank-label")
	                .attr("x", -70)
	                .attr("y", (d, i) => y(i + 1))
	                .attr("dy", ".35em")
	                .attr("text-anchor", "end")
	                .style("font-size", "11px")
	                .style("fill", d => color[d])
                	.each(function(d) {
                    	const textElement = d3.select(this);
                    	const lines = d.split("_");
                    	textElement.text("");
                    	lines.forEach((line, i) => {
                        	textElement.append("tspan")
	                            .attr("x", -45)
	                            .attr("dy", i === 0 ? 0 : "1.2em")
	                            .text(line);
                    	});
                	});
	        }

        
        	document.querySelectorAll("input[name='dataset']").forEach(radio => {
    			radio.addEventListener("change", (event) => {
        			switch (event.target.value) {
            			case "dataset1":
	                		currentData = dataset1;
	                		break;
			            case "dataset2":
			                currentData = dataset2;
			                break;
			            case "dataset3":
			                currentData = dataset3;
			                break;
			            case "dataset4":
			                currentData = dataset4;
			                break;
			            default:
			                currentData = null;
	        		}
	        		if (currentData) {
	            		renderChart(currentData);
	        		}
    			});
			});


        renderChart(currentData);

        function openChart(dataset) {
            alert('Opening chart for ' + dataset);
        }
    </script>
</body>
</html>